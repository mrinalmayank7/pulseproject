{%  extends 'MAINAPP/home.html' %}
{% load static %}
{% block content %}
<div class="loginwindow">
<br><br>
<div class="container" style="padding-bottom:50px;">
  <div class="row">

    <div class="col-lg-6 col-md-10 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;">
      <div class="" style="width:100%;padding:0% 20% 0% 20%;">
        <p style="font-size:45px;color:black;text-align:center;font-weight:400;">Log In</p>


        {% if user.is_authenticated %}
            <p style="text-align:center;color:#00cc00;font-size:13px">You are already logged in.</p>
            {% else %}
            <form class="needs-validation" action="{% url 'user_login' %}" method="POST" novalidate>
              {% csrf_token %}
              <div class="required_fields">
                <input type="text" class="form-control"name="username" placeholder="Username"
                style=" background: #E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;" required>
              <div class="invalid-feedback">
                  <p style="font-size:12px;margin:3px;text-align:right;color:red;">empty username</p>
              </div>
              <br>
              </div>
              <div class="required_fields">
                <input type="password" class="form-control"name="password" placeholder="Password" id="myInput"
                style=" background:#E5E7E9;border:0px;border-radius:50px;padding:20px;font-size:13px;color:black;" required>

              <div class="invalid-feedback">
                  <p style="font-size:12px;margin:3px;text-align:right;color:red;">empty password</p>
              </div>
              </div>
                <input type="checkbox"  onclick="myFunction()">
                <label for="myInput" style="font-size:12px;color:#626567;margin-top:10px;margin-bottom:20px;">Show Password</label>

                {% for message in messages %}
                <p style="text-align:center;color:red;font-size:12px">{{message}}</p>
                {% endfor %}
              <div class="text-center">
                <input type="submit" class="btn btn-outline-primary text-center" value=" Log In " style="border-radius:30px;border-width:2px;font-size:16px;margin:auto;font-weight:600;padding:5px 13px 5px 13px">
                <br>
        </div>
        </form>
        <p style="text-align:right;margin:10px;font-size:12px;"><a href="{% url 'reset_password' %}">Forgot password?</a></p>
        <hr color="#CACFD2" style="margin:8px;margin-bottom:20px;">
        <p style="text-align:center;margin:2px;color:black;font-weight:600;fint-size:15px;">OR</p>
        <p style="font-size:14px;color:#626567 ;text-align:center;border:1px solid #CACFD2;border-radius:30px;padding:8px;margin:5px;">Don't have an account? <a  href="{% url 'register' %}" style="font-weight:600;padding:5px;">Sign up</a></p>
        <br><br>
          {% endif  %}
      </div>
    </div>
    <div class="col-lg-6 col-md-10 col-sm-12 col-12" style="margin-left:auto;margin-right:auto;display:flex;flex-wrap:wrap;">
      <div class="" style="padding:0px">
        <img src="{% static 'images/gif1.gif'%}" alt=""  style="max-width:100%;max-height:100%;"  />
      </div>
    </div>
  </div>
</div>
</div>

<script>
// Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
'use strict';
window.addEventListener('load', function() {
  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  var forms = document.getElementsByClassName('needs-validation');
  // Loop over them and prevent submission
  var validation = Array.prototype.filter.call(forms, function(form) {
    form.addEventListener('submit', function(event) {
      if (form.checkValidity() === false) {
        event.preventDefault();
        event.stopPropagation();
      }
      form.classList.add('was-validated');
    }, false);
  });
}, false);
})();
</script>

{% endblock content %}
